"0",""
"0",""
"0","#library(RPostgreSQL)"
"0","#drv <- dbDriver(""PostgreSQL"")"
"0","#conn <- dbConnect(drv,dbname=""bderamo2021_gold"", host=""10.200.31.73"",port=5432,user=""eramo_gold"",password=""ERAMO_GOLD"")"
"0","datos <- dbGetQuery(conn,""select * from explotacion.estab_perdida_comestible;"")"
"0",""
"0",""
"0","library(plotly) "
"0",""
"0"," "
"0",""
"0","data <- datos[,c('tipo', 'dato')] "
"0",""
"0","colors <- colorRampPalette(c(""#68912B"",""#AB7A5A""))(2)"
"0",""
"0","fig <- plot_ly(data, labels = ~tipo, values = ~dato, type = 'pie', "
"0",""
"0","textposition = 'outside', "
"0",""
"0","textinfo = 'percent', "
"0",""
"0","hoverinfo = 'text', "
"0",""
"0","text = ~paste('',tipo , ''), "
"0",""
"0","marker = list(colors = colors, "
"0",""
"0","line = list(color = '#FFFFFF', width = 1)), "
"0",""
"0","showlegend = T) "
"0",""
"0","fig <- fig %>% layout(title = '3.5.a Porcentaje global del desperdicio que era todav√≠a comestible para otras personas', "
"0",""
"0","xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE), "
"0",""
"0","yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE)) "
"0",""
"0","#dbDisconnect(conn) "
"0",""
"0","fig "
